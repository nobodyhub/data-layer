syntax = "proto3";

option java_package = "com.nobodyhub.datalayer.core.model";
option java_outer_classname = "DataLayerProtocol";

package datalayer.model;

enum OpType {
    CREATE = 0;
    RRED = 1;
    UPDATE = 2;
    DELETE = 3;
}

message Entity {
    string entityClass = 1;
    bytes entity = 2;
}

message Reponse {
    int32 errorCode = 1;
    Entity entity = 2;
}

message Request {
    OpType opType = 1;
    Entity entity = 2;
}

service DataLayerService {
    rpc execute (stream Request) returns (Reponse);
}